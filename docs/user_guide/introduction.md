# Holoscan Sensor Bridge Introduction

## Overview

Holoscan Sensor Bridge provides an FPGA based interface for low-latency sensor data
processing using GPUs. Peripheral device data is acquired by the Holoscan Sensor Bridge
device FPGA and sent via UDP over Ethernet to the host system. In systems like
[IGX Devkit](https://www.nvidia.com/en-us/edge-computing/products/igx),
[ConnectX SmartNIC](https://www.nvidia.com/content/dam/en-zz/Solutions/networking/ethernet-adapters/connectx-7-datasheet-Final.pdf)
interfaces can greatly lower latency by writing that UDP data directly into GPU memory.
Holoscan Sensor Bridge host software supports integrating received sensor data into
[Holoscan](http://docs.nvidia.com/holoscan/sdk-user-guide) pipelines; examples are
provided showing video processing and inference based on a Sony IMX274 camera. This
configuration can be connected to an
[IGX](https://www.nvidia.com/en-us/edge-computing/products/igx) or
[Jetson AGX Orin](https://developer.nvidia.com/embedded/learn/jetson-agx-orin-devkit-user-guide/index.html)
or
[Jetson AGX Thor](https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/jetson-thor/)
edge compute system. Additionally:

- Holoscan Sensor Bridge supports hosts with or without accelerated RDMA capable NICs.
  For unaccelerated configurations, like
  [Jetson AGX Orin Devkit](https://developer.nvidia.com/embedded/learn/jetson-agx-orin-devkit-user-guide/index.html)
  support is provided using Linux socket based Ethernet connections.
- Appropriately enabled host systems can support high accuracy PTP timestamps; these can
  be used to record the time at which data was received, measure data and pipeline
  latency, and synchronize sensor behavior. Both IGX and Orin AGX systems have hardware
  PTP support in on-board network interfaces.

## Software

[Holoscan](https://docs.nvidia.com/holoscan/sdk-user-guide/holoscan_core.html)
applications are written by composing lists of operators. Connecting the output of one
operator to the input of another operator (via the `add_flow` API) configures Holoscan's
pipeline and specifies when individual operators can run.

Holoscan Sensor Bridge host software leverages the Holoscan framework by providing
operators that receive network data generated by Holoscan Sensor Bridge devices. For
example, `RoceReceiverOp` provides a facility for receiving UDP messages from a Holoscan
Sensor Bridge source and storing that data in GPU memory. When used with a video camera
source, received data appears as a block of memory with CSI-2 bayer image data. Holoscan
includes off-the-shelf operators for

- Construction of RGBA images from Bayer video
- Image signal processing
- Inference
- Visualization, and
- Data integrity testing

These tools are all intended to facilitate real-time processing of video data. For more
details, see [IMX274 demo](applications.md).

Different applications have different uses for received data. For example, a high-speed
analog signal (e.g. 5G cellular antenna) has different requirements than a video camera.
In general, application code works with APIs on sensor objects to provide appropriate
configuration and controls for that device; that sensor object knows how to configure
the network receiver operator as needed. If an application or device has requirements
that are not met by the current implementation, Holoscan operators are provided as
source code: users can adapt these to meet their requirements, and if desired, these
modifications can be sent back to NVIDIA for inclusion in future versions of sensor
bridge host software.

## Applications

Holoscan applications work by creating a `HoloscanApplication` subclass, overriding its
`configure` method and using that to construct the appropriate pipeline for the
application. Holoscan Sensor Bridge application pipelines are usually focused on
acquiring data from sensor equipment, performing processing on that data, generating
appropriate outputs, and transmitting that output data to the appropriate target.

## Sensor objects

APIs for configuring and monitoring specific sensors are presented on _sensor objects_.
For example, `Imx274Cam` is a sensor object with methods for initialization-time
configuration, updates to runtime parameters (e.g. exposure), and monitoring device
health. Holoscan applications use those APIs to affect device behavior: for example, an
"automatic exposure operator" may receive a video frame as input and use that to
determine the value sent to the camera's `set_exposure` method. Sensor objects are
user-mode drivers for specific devices: they provide access to device functionality but
do not include application specific behavior.

## Host requirements

Holoscan Sensor Bridge software can be run on any system that is supported by NVIDIA
[Holoscan](https://docs.nvidia.com/holoscan/sdk-user-guide/holoscan_core.html). For the
best performance, an [IGX](https://www.nvidia.com/en-us/edge-computing/products/igx)
system, using
[ConnectX SmartNICs](https://www.nvidia.com/content/dam/en-zz/Solutions/networking/ethernet-adapters/connectx-7-datasheet-Final.pdf)
are recommended. In systems without ConnectX NICs, such as the
[Jetson AGX Orin](https://developer.nvidia.com/embedded/learn/jetson-agx-orin-devkit-user-guide/index.html),
performance is limited by the host OS network stack.
